최댓값 갱신과 데이터 업데이트 시점이 달라서 조금 고민

차라리 배열 인덱스를 넉넉하게(2N) 잡았다면 고려하지 않아도 됐을듯